# Idea: Recursive Root Cause Analysis and Fix (RCA-RF)

**Timestamp**: 2026-02-08T16:47:39+08:00

## Proposal

The `vibespec bug [description]` workflow MUST implement a **Recursive Upward-Downward Loop**:

**Phase 1: Bottom-Up Diagnosis (Trace the Failure)**
1. Start at **L3 (Runtime)** or Code level.
2. Trace upward to find the **Most Specific Responsible Spec Item (MSR)**.
3. Review MSR:
   - Is it Ambiguous/Wrong? -> Proceed to Phase 2.
   - Is it Correct? -> Implementation Violation. Fix Code (Phase 4).

**Phase 2: Upward Verification (Check the Fix)**
1. Prepare proposed fix for MSR.
2. Check if fix violates **Parent Spec**.
   - If violates: Recursively fix Parent Spec (go to Step 1 for Parent).
   - If compliant: Proceed to Phase 3.

**Phase 3: Final Approval (The Pivot)**
1. Present the **Complete Chain of Fixes** (from Top to MSR) to User.
2. User Approves.

**Phase 4: Downward Propagation (Apply the Fix)**
1. Apply fix to Top-most affected spec.
2. Cascade updates down to L3.
3. Finally, update Code/Tests.

## Rationale

- **Holistic Fix**: Prevents local fixes that violate higher-level constraints.
- **Root Cause**: Ensures we fix the design, not just the symptom.
- **Safety**: User approves the *strategy* before execution.

## Target

- **L1**: Update `CONTRACTS.MAINTENANCE.BUG_RCA`.
- **L2**: Update `INSIGHT_MINER` or `TRACEABILITY_GUARDIAN`.
- **SKILL**: Detailed workflow in `vibespec bug`.
