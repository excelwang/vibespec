spec_id: RETRY_LOGIC
type: decision
description: "Decides when to retry failed operations"

cases:
  - name: "Normal: Fixable error retries"
    given:
      error_type: syntax
      attempt: 1
    when: "Agent encounters the error"
    then:
      action: retry
    evaluation: llm

  - name: "Edge: Max retries reached gives up"
    given:
      error_type: syntax
      attempt: 3
    when: "Agent encounters the error"
    then:
      action: giveup
      next: revert
    evaluation: llm

  - name: "Error: Unfixable error escalates"
    given:
      error_type: logic
      attempt: 1
    when: "Agent encounters the error"
    then:
      action: escalate
    evaluation: llm
