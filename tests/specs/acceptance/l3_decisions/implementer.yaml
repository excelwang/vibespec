spec_id: IMPLEMENTER
type: decision
description: "Decides implementation approach based on gap analysis"

cases:
  - name: "Normal: Low gap uses incremental refactor"
    given:
      gap_analysis:
        gap_percentage: 30
        missing: ["feature_a"]
    when: "Agent plans implementation"
    then:
      approach: incremental
    evaluation: llm

  - name: "Edge: High gap requests approval"
    given:
      gap_analysis:
        gap_percentage: 75
        missing: ["feature_a", "feature_b", "feature_c"]
    when: "Agent plans implementation"
    then:
      approach: request_approval
    evaluation: llm
